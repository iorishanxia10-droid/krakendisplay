<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>NZXT + YouTube Dashboard</title>
  <style>
    body { background:#111; color:#fff; font-family:sans-serif; }
    .wrap { display:flex; gap:20px; }
    .box { background:#222; padding:15px; border-radius:10px; }
    .temps { font-size:20px; }
  </style>
</head>
<body>

<h2>YouTube ＋ 温度ダッシュボード</h2>

<div class="wrap">
  <div class="box">
    <iframe
      width="560"
      height="315"
      src="https://www.youtube.com/embed/P7cnTQbztnk"
      frameborder="0"
      allowfullscreen
    ></iframe>
  </div>

  <div class="box temps" id="temps">
    読み込み中…
  </div>
</div>

<script>
    // NZXT CAM データの受け取り
    window.nzxt = {
      v1: {
        onMonitoringDataUpdate: (data) => {
          try {
            // CPU
            if (data.cpus && data.cpus[0]) document.getElementById('cpu').innerText = Math.round(data.cpus[0].temperature);
            // GPU
            if (data.gpus && data.gpus[0]) document.getElementById('gpu').innerText = Math.round(data.gpus[0].temperature);
            
            // 水温 (あらゆるパターンを網羅)
            let liquid = "--";
            if (data.liquid) {
              liquid = Math.round(data.liquid.temperature);
            } else if (data.krakens && data.krakens[0]) {
              liquid = Math.round(data.krakens[0].liquidTemperature || data.krakens[0].status.liquidTemperature);
            }
            document.getElementById('liq').innerText = liquid;
          } catch (e) {
            console.error("Data error:", e);
          }
        }
      }
    };
  </script>
</body>
</html>
